webpackJsonp([1],{0:function(e,n){},1:function(e,n){},2:function(e,n){},"91E0":function(e,n){},C94r:function(e,n){},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("7+uW"),o=t("Gu7T"),i=t.n(o),a=t("Dd8w"),s=t.n(a),l=t("uXZL"),c=t.n(l);var u={name:"Dropzone",data:function(){return{isHover:!1,sheets:[]}},methods:{handleDrop:function(e){e.stopPropagation(),e.preventDefault(),this.isHover=!1;var n=this,t=e.dataTransfer.files[0],r=new FileReader;r.onload=function(e){var t=new Uint8Array(e.target.result),r=c.a.read(t,{type:"array"});1!=r.SheetNames.length?n.sheets=r.SheetNames.map(function(e){return{name:e,table:r.Sheets[e]}}):n.$emit("receivedTable",r.Sheets[r.SheetNames[0]])},r.readAsArrayBuffer(t)},sheetSelect:function(e){this.$emit("receivedTable",e)}}},f={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"dropzone",class:{dropHover:e.isHover},on:{dragover:[function(e){e.preventDefault()},function(n){e.isHover=!0}],dragleave:function(n){e.isHover=!1},dragend:function(n){e.isHover=!1},drop:e.handleDrop}},[0==e.sheets.length?t("p",[e._v("\n    Drop a spreadsheet file here (.xls, .xlsx, .csv or .tsv)\n  ")]):e._e(),e._v(" "),e.sheets.length>0?t("div",[e._v("\n    Your spreadsheet contains multiple sheets. Please select the sheet with\n    the required details:\n    "),t("ul",e._l(e.sheets,function(n){return t("li",{key:n.name,on:{click:function(t){return e.sheetSelect(n.table)}}},[e._v("\n        "+e._s(n.name)+"\n      ")])}),0)]):e._e()])},staticRenderFns:[]};var d=t("VU/8")(u,f,!1,function(e){t("C94r")},null,null).exports,v=t("mvHQ"),h=t.n(v),g=this;var p={name:"configjson",props:{config:Object},data:function(){return{isValidJSON:!1}},computed:{jsonString:{get:function(){return h()(config)},set:function(e){(function(e){try{JSON.parse(e)}catch(e){return!1}return!0})(str)&&g.this.$emit("update:config",JSON.parse(str))}}}},y={render:function(){var e=this,n=e.$createElement;return(e._self._c||n)("textarea",{directives:[{name:"model",rawName:"v-model",value:e.jsonString,expression:"jsonString"}],class:{invalid:e.isInvalidJSON},attrs:{")":""},domProps:{value:e.jsonString},on:{input:function(n){n.target.composing||(e.jsonString=n.target.value)}}})},staticRenderFns:[]};var m={name:"Configpanel",components:{configjson:t("VU/8")(p,y,!1,function(e){t("91E0")},null,null).exports},props:{config:{type:Object,required:!0},headers:{type:Array,required:!0}},data:function(){return console.log(this.config),{myconfig:this.config}}},S={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"configpanel"},[t("h3",[e._v("Sorting Configuration")]),e._v(" "),t("br"),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.showSortingOnly,expression:"config.showSortingOnly"}],attrs:{type:"checkbox",id:"show-sorting"},domProps:{checked:Array.isArray(e.config.showSortingOnly)?e._i(e.config.showSortingOnly,null)>-1:e.config.showSortingOnly},on:{change:function(n){var t=e.config.showSortingOnly,r=n.target,o=!!r.checked;if(Array.isArray(t)){var i=e._i(t,null);r.checked?i<0&&e.$set(e.config,"showSortingOnly",t.concat([null])):i>-1&&e.$set(e.config,"showSortingOnly",t.slice(0,i).concat(t.slice(i+1)))}else e.$set(e.config,"showSortingOnly",o)}}}),e._v(" "),t("label",{attrs:{for:"show-sorting"}},[e._v(" Show Sorting Columns Only")]),e._v(" "),t("br"),e._v("\n  Headers:\n  "),t("ul",e._l(e.headers,function(n){return t("li",{key:n},[e._v(e._s(n))])}),0),e._v(" "),t("button",{on:{click:function(n){return e.$emit("triggersort")}}},[e._v("Sort")])])},staticRenderFns:[]};var w=t("VU/8")(m,S,!1,function(e){t("zKod")},null,null).exports,b=t("fZjL"),O=t.n(b);t("M4fF");var x=t("d7EF"),k=t.n(x),H=t("BO1k"),A=t.n(H);function j(e,n){var t=n.priority,r=(n.seed,n.houses),o=function e(n,t){var r=[],o=t.length;if(Array.isArray(n))r=n;else for(var i in n){var a=e(n[i],t);r=r.concat(a)}var s=_.chunk(r,o),l=!0,c=!1,u=void 0;try{for(var f,d=A()(s);!(l=(f=d.next()).done);l=!0){var v=f.value;if(v.length!=o)return v;var h=!0,g=!1,p=void 0;try{for(var y,m=A()(_.zip(v,t));!(h=(y=m.next()).done);h=!0){var S=y.value,w=k()(S,2),b=w[0],O=w[1];b.Sorting=O}}catch(e){g=!0,p=e}finally{try{!h&&m.return&&m.return()}finally{if(g)throw p}}}}catch(e){c=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(c)throw u}}return[]}(function e(n,t){if(0==t.length)return n;var r=_.head(t),o=_.groupBy(n,r);for(var i in o)o[i]=e(o[i],_.tail(t));return o}(e,t),r),i=!0,a=!1,s=void 0;try{for(var l,c=A()(_.zip(r,o));!(i=(l=c.next()).done);i=!0){var u=l.value,f=k()(u,2),d=f[0],v=f[1];console.log(v,d),void 0!==v&&(v.Sorting=d)}}catch(e){a=!0,s=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}return console.log(e),e}var N={name:"App",components:{Dropzone:d,Configpanel:w},data:function(){return{table:!1,config:{showSortingOnly:!1,priority:["Gender","Faculty"],seed:"asdf",houses:["Green","Black","Purple","Blue","Red","Orange"]},headers:[]}},methods:{handleTable:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n,t=c.a.utils.sheet_to_json(e);this.headers=(n=t,O()(n[0])),this.table=_.map(t,function(e){return s()({},e,{Sorting:void 0})})},handleSort:function(){this.table=j(this.table,this.config)}},computed:{previewHeaders:function(){return 0==this.config.showSortingOnly?this.headers.concat("Sorting"):[].concat(i()(this.config.priority),["Sorting"])},previewTable:function(){return this.table.map(function(e,n){return s()({},e,{vueindex:n})})}}},$={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[0==e.table?t("dropzone",{on:{receivedTable:e.handleTable}}):e._e(),e._v(" "),!1!==e.table?t("div",[t("div",{attrs:{id:"previewtable"}},[t("table",[t("tr",e._l(e.previewHeaders,function(n){return t("th",{key:n},[e._v("\n            "+e._s(n)+"\n          ")])}),0),e._v(" "),e._l(e.previewTable,function(n){return t("tr",{key:n.vueindex},e._l(e.previewHeaders,function(r){return t("td",{key:n.vueindex+r},[e._v("\n            "+e._s(n[r])+"\n          ")])}),0)})],2)]),e._v(" "),t("configpanel",{attrs:{config:e.config,headers:e.headers},on:{triggersort:e.handleSort}})],1):e._e()],1)},staticRenderFns:[]};var T=t("VU/8")(N,$,!1,function(e){t("UVvI")},null,null).exports;r.a.config.productionTip=!1,new r.a({el:"#app",components:{App:T},template:"<App/>"})},UVvI:function(e,n){},zKod:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.55e076b38b657e3b1b91.js.map