{"version":3,"sources":["webpack:///src/components/Dropzone.vue","webpack:///./src/components/Dropzone.vue?1ff1","webpack:///./src/components/Dropzone.vue","webpack:///src/components/configjson.vue","webpack:///./src/components/configjson.vue?162e","webpack:///./src/components/configjson.vue","webpack:///src/components/configpanel.vue","webpack:///./src/components/configpanel.vue?9390","webpack:///./src/components/configpanel.vue","webpack:///./src/sorting.js","webpack:///src/App.vue","webpack:///./src/sheetutils.js","webpack:///./src/App.vue?0b79","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["Dropzone","name","data","isHover","sheets","methods","handleDrop","e","stopPropagation","preventDefault","this","self","f","dataTransfer","files","reader","FileReader","onload","Uint8Array","target","result","workbook","xlsx_default","a","read","type","SheetNames","length","map","sheetName","table","Sheets","$emit","readAsArrayBuffer","sheetSelect","sheet","components_Dropzone","render","_vm","_h","$createElement","_c","_self","staticClass","class","dropHover","on","dragover","$event","dragleave","dragend","drop","_v","_e","_l","key","click","_s","staticRenderFns","src_components_Dropzone","__webpack_require__","normalizeComponent","ssrContext","configjson","props","config","Object","isValidJSON","computed","jsonString","get","stringify_default","set","val","str","JSON","parse","_this","components_configjson","directives","rawName","value","expression","invalid","isInvalidJSON","attrs",")","domProps","input","composing","configpanel","components","configjson_normalizeComponent","required","headers","Array","console","log","myconfig","components_configpanel","id","checked","isArray","showSortingOnly","_i","change","$$a","$$el","$$c","$$i","$set","concat","slice","for","header","src_components_configpanel","configpanel_normalizeComponent","sort","students","priority","houses","seed","remainder","assignHouses","tree","remainders","numHouses","category","buckets","_","chunk","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","bucket","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","zip","_ref","_ref2","slicedToArray_default","person","house","err","return","splitGroup","list","attributes","attr","head","groupBy","tail","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_ref3","_ref4","App","Configpanel","handleTable","tableData","arguments","cells","utils","sheet_to_json","keys_default","x","extends_default","Sorting","handleSort","previewHeaders","toConsumableArray_default","previewTable","i","vueindex","selectortype_template_index_0_src_App","receivedTable","row","triggersort","src_App","App_normalizeComponent","Vue","productionTip","el","template"],"mappings":"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","file":"static/js/app.55e076b38b657e3b1b91.js","sourcesContent":["<template>\n  <div\n    class=\"dropzone\"\n    v-bind:class=\"{ dropHover: isHover }\"\n    @dragover.prevent\n    @dragover=\"isHover = true\"\n    @dragleave=\"isHover = false\"\n    @dragend=\"isHover = false\"\n    @drop=\"handleDrop\"\n  >\n    <p v-if=\"sheets.length == 0\">\n      Drop a spreadsheet file here (.xls, .xlsx, .csv or .tsv)\n    </p>\n    <div v-if=\"sheets.length > 0\">\n      Your spreadsheet contains multiple sheets. Please select the sheet with\n      the required details:\n      <ul>\n        <li\n          v-for=\"sheet in sheets\"\n          v-bind:key=\"sheet.name\"\n          v-on:click=\"sheetSelect(sheet.table)\"\n        >\n          {{ sheet.name }}\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n<script>\nimport XLSX from \"xlsx\";\n\nfunction handleDrop(e) {\n  e.stopPropagation();\n  e.preventDefault();\n  this.isHover = false;\n  let self = this;\n  let files = e.dataTransfer.files;\n  let f = files[0];\n  var reader = new FileReader();\n  reader.onload = function(e) {\n    var data = new Uint8Array(e.target.result);\n    var workbook = XLSX.read(data, { type: \"array\" });\n\n    if (workbook.SheetNames.length == 1) {\n      self.$emit(\"receivedTable\", workbook.Sheets[workbook.SheetNames[0]]);\n      return;\n    }\n    self.sheets = workbook.SheetNames.map(sheetName => ({\n      name: sheetName,\n      table: workbook.Sheets[sheetName]\n    }));\n  };\n  reader.readAsArrayBuffer(f);\n}\n\nfunction sheetSelect(sheet) {\n  this.$emit(\"receivedTable\", sheet);\n}\n\nexport default {\n  name: \"Dropzone\",\n  data: () => ({ isHover: false, sheets: [] }),\n  methods: { handleDrop, sheetSelect }\n};\n</script>\n<style>\n.dropzone {\n  border: 1px solid black;\n  margin-left: 25%;\n  margin-right: 25%;\n  padding-bottom: 100px;\n  padding-top: 100px;\n}\n.dropHover {\n  background-color: rgb(185, 255, 79);\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Dropzone.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dropzone\",class:{ dropHover: _vm.isHover },on:{\"dragover\":[function($event){$event.preventDefault();},function($event){_vm.isHover = true}],\"dragleave\":function($event){_vm.isHover = false},\"dragend\":function($event){_vm.isHover = false},\"drop\":_vm.handleDrop}},[(_vm.sheets.length == 0)?_c('p',[_vm._v(\"\\n    Drop a spreadsheet file here (.xls, .xlsx, .csv or .tsv)\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.sheets.length > 0)?_c('div',[_vm._v(\"\\n    Your spreadsheet contains multiple sheets. Please select the sheet with\\n    the required details:\\n    \"),_c('ul',_vm._l((_vm.sheets),function(sheet){return _c('li',{key:sheet.name,on:{\"click\":function($event){return _vm.sheetSelect(sheet.table)}}},[_vm._v(\"\\n        \"+_vm._s(sheet.name)+\"\\n      \")])}),0)]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d5b262f8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Dropzone.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d5b262f8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Dropzone.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Dropzone.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Dropzone.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d5b262f8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Dropzone.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Dropzone.vue\n// module id = null\n// module chunks = ","<template>\n  <textarea\n    v-model=\"jsonString\"\n    v-bind:class=\"{ invalid: isInvalidJSON }\"\n    )\n  ></textarea>\n</template>\n\n<script>\nfunction isValidJSON(str) {\n  try {\n    JSON.parse(str);\n  } catch (e) {\n    return false;\n  }\n  return true;\n}\nexport default {\n  name: \"configjson\",\n  props: { config: Object },\n  data: () => ({\n    isValidJSON: false\n  }),\n  computed: {\n    jsonString: {\n      get: () => JSON.stringify(config),\n      set: val => {\n        if (isValidJSON(str)) {\n          this.this.$emit(\"update:config\", JSON.parse(str));\n        } else {\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style>\n.invalid {\n  box-shadow: 0px 0px 5px red;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/configjson.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.jsonString),expression:\"jsonString\"}],class:{ invalid: _vm.isInvalidJSON },attrs:{\")\":\"\"},domProps:{\"value\":(_vm.jsonString)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.jsonString=$event.target.value}}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-846d2486\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/configjson.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-846d2486\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./configjson.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./configjson.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./configjson.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-846d2486\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./configjson.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/configjson.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"configpanel\">\n    <h3>Sorting Configuration</h3>\n    <br />\n\n    <input type=\"checkbox\" id=\"show-sorting\" v-model=\"config.showSortingOnly\" />\n    <label for=\"show-sorting\"> Show Sorting Columns Only</label>\n    <br />\n    Headers:\n    <ul>\n      <li v-for=\"header in headers\" v-bind:key=\"header\">{{ header }}</li>\n    </ul>\n    <!-- <configjson v-bind:config=\"config\"></configjson> -->\n    <button v-on:click=\"$emit('triggersort')\">Sort</button>\n  </div>\n</template>\n\n<script>\nimport configjson from \"./configjson\";\n\nlet defaultConfig = {};\n\nexport default {\n  name: \"Configpanel\",\n  components: {\n    configjson\n  },\n  props: {\n    config: {\n      type: Object,\n      required: true\n    },\n    headers: {\n      type: Array,\n      required: true\n    }\n  },\n  data: function() {\n    console.log(this.config);\n    return {\n      myconfig: this.config\n    };\n  }\n};\n</script>\n\n<style></style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/configpanel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"configpanel\"},[_c('h3',[_vm._v(\"Sorting Configuration\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.config.showSortingOnly),expression:\"config.showSortingOnly\"}],attrs:{\"type\":\"checkbox\",\"id\":\"show-sorting\"},domProps:{\"checked\":Array.isArray(_vm.config.showSortingOnly)?_vm._i(_vm.config.showSortingOnly,null)>-1:(_vm.config.showSortingOnly)},on:{\"change\":function($event){var $$a=_vm.config.showSortingOnly,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.config, \"showSortingOnly\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.config, \"showSortingOnly\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.config, \"showSortingOnly\", $$c)}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"show-sorting\"}},[_vm._v(\" Show Sorting Columns Only\")]),_vm._v(\" \"),_c('br'),_vm._v(\"\\n  Headers:\\n  \"),_c('ul',_vm._l((_vm.headers),function(header){return _c('li',{key:header},[_vm._v(_vm._s(header))])}),0),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){return _vm.$emit('triggersort')}}},[_vm._v(\"Sort\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cfd79ff6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/configpanel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cfd79ff6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./configpanel.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./configpanel.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./configpanel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cfd79ff6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./configpanel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/configpanel.vue\n// module id = null\n// module chunks = ","// Given a list of objects, recusively split them into a tree of sublists based on the attributes (split on the earlier attributes first)\nfunction splitGroup(list, attributes) {\n  if (attributes.length == 0) {\n    return list; // as a leaf node\n  }\n\n  let attr = _.head(attributes);\n\n  // splits the list into an object keyed by the attribute\n  // https://lodash.com/docs/4.17.11#groupBy\n  let tree = _.groupBy(list, attr);\n\n  for (let key in tree) {\n    tree[key] = splitGroup(tree[key], _.tail(attributes));\n  }\n  return tree;\n}\n\nfunction assignHouses(tree, houses) {\n  let remainders = [];\n  let numHouses = houses.length;\n\n  if (Array.isArray(tree)) {\n    // reached leaf\n    remainders = tree;\n  } else {\n    for (let category in tree) {\n      let remainder = assignHouses(tree[category], houses);\n      remainders = remainders.concat(remainder);\n    }\n  }\n  // Evenly sort what we can\n  let buckets = _.chunk(remainders, numHouses);\n  for (let bucket of buckets) {\n    if (bucket.length != numHouses) {\n      // We are in the last bucket, and these are the remaining elements\n      return bucket;\n    }\n    // otherwise evenly allocate them\n    for (let [person, house] of _.zip(bucket, houses)) {\n      person[\"Sorting\"] = house;\n    }\n  }\n  // if we don't return before, that means we have an exact number and don't have any remainders\n  return [];\n}\n\nexport default function sort(students, config) {\n  let { priority, seed, houses } = config;\n\n  // shuffle the houses first\n\n  // TODO: rounds\n  // or just implement rounds as the top level sort? since they're done in order anyway\n\n  // build tree\n  let tree = splitGroup(students, priority);\n  // collapse leaves\n  let remainder = assignHouses(tree, houses);\n\n  for (let [house, person] of _.zip(houses, remainder)) {\n    console.log(person, house);\n    if (person !== undefined) {\n      person[\"Sorting\"] = house;\n    }\n  }\n\n  console.log(students);\n  return students;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/sorting.js","<template>\n  <div id=\"app\">\n    <dropzone v-if=\"table == false\" @receivedTable=\"handleTable\"></dropzone>\n    <div v-if=\"table !== false\">\n      <div id=\"previewtable\">\n        <table>\n          <tr>\n            <th v-for=\"header in previewHeaders\" v-bind:key=\"header\">\n              {{ header }}\n            </th>\n          </tr>\n          <tr v-for=\"row in previewTable\" v-bind:key=\"row.vueindex\">\n            <td\n              v-for=\"header in previewHeaders\"\n              v-bind:key=\"row.vueindex + header\"\n            >\n              {{ row[header] }}\n            </td>\n          </tr>\n        </table>\n      </div>\n      <configpanel\n        v-bind:config=\"config\"\n        v-bind:headers=\"headers\"\n        @triggersort=\"handleSort\"\n      ></configpanel>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Dropzone from \"./components/Dropzone\";\nimport Configpanel from \"./components/configpanel\";\n\nimport XLSX from \"xlsx\";\n\nimport { getHeaders } from \"./sheetutils\";\nimport sort from \"./sorting\";\n\nfunction handleTable(tableData, options = {}) {\n  let table = XLSX.utils.sheet_to_json(tableData);\n  this.headers = getHeaders(table);\n  this.table = _.map(table, x => ({ ...x, Sorting: undefined }));\n}\n\nfunction previewHeaders() {\n  if (this.config.showSortingOnly == false) {\n    return this.headers.concat(\"Sorting\");\n  } else {\n    return [...this.config.priority, \"Sorting\"];\n  }\n}\n\nfunction previewTable() {\n  return this.table.map((x, i) => ({ ...x, vueindex: i }));\n}\n\nfunction handleSort() {\n  this.table = sort(this.table, this.config);\n}\n\nexport default {\n  name: \"App\",\n  components: {\n    Dropzone,\n    Configpanel\n  },\n  data: () => ({\n    table: false,\n    config: {\n      showSortingOnly: false,\n      priority: [\"Gender\", \"Faculty\"],\n      seed: \"asdf\",\n      houses: [\"Green\", \"Black\", \"Purple\", \"Blue\", \"Red\", \"Orange\"]\n    },\n    headers: []\n  }),\n  methods: {\n    handleTable,\n    handleSort\n  },\n  computed: {\n    previewHeaders,\n    previewTable\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n#previewtable,\n.configpanel {\n  display: inline-block;\n  height: 100vh;\n  width: 45vw;\n}\n#previewtable {\n  overflow: scroll;\n}\n.configpanel {\n  overflow: hidden;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import XLSX from \"xlsx\";\nimport _ from \"lodash\";\n\nfunction getHeaders(cells) {\n  let headers = Object.keys(cells[0]);\n  return headers;\n}\n\nexport { getHeaders };\n\n\n\n// WEBPACK FOOTER //\n// ./src/sheetutils.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.table == false)?_c('dropzone',{on:{\"receivedTable\":_vm.handleTable}}):_vm._e(),_vm._v(\" \"),(_vm.table !== false)?_c('div',[_c('div',{attrs:{\"id\":\"previewtable\"}},[_c('table',[_c('tr',_vm._l((_vm.previewHeaders),function(header){return _c('th',{key:header},[_vm._v(\"\\n            \"+_vm._s(header)+\"\\n          \")])}),0),_vm._v(\" \"),_vm._l((_vm.previewTable),function(row){return _c('tr',{key:row.vueindex},_vm._l((_vm.previewHeaders),function(header){return _c('td',{key:row.vueindex + header},[_vm._v(\"\\n            \"+_vm._s(row[header])+\"\\n          \")])}),0)})],2)]),_vm._v(\" \"),_c('configpanel',{attrs:{\"config\":_vm.config,\"headers\":_vm.headers},on:{\"triggersort\":_vm.handleSort}})],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-61d4ae90\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-61d4ae90\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-61d4ae90\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from \"vue\";\nimport App from \"./App\";\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: \"#app\",\n  components: { App },\n  template: \"<App/>\"\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}